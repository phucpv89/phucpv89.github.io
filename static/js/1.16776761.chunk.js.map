{"version":3,"sources":["assets/bghome.jpg","components/text-input/default-text-input.js","components/text-input/expand-text-input.js","components/text-input/index.js","components/full-width-button/index.js","containers/page-home/page-home.js"],"names":["module","exports","__webpack_require__","p","DefaultTextInput","_this$props","this","props","className","placeholder","otherProps","Object","objectWithoutProperties","react_default","a","createElement","concat","assign","required","Component","defaultProps","ExpandTextInput","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","emitChange","bind","assertThisInitialized","nextProps","value","ReactDOM","findDOMNode","_input","innerHTML","textContent","html","onChange","lastHtml","target","_this2","disabled","ref","onInput","onBlur","contentEditable","dangerouslySetInnerHTML","__html","TextInput","autoExpand","expand_text_input","default_text_input","FullWidthButton","btnClass","onClick","text","ZaloPayApi","window","ZaloPay","CREATE_ORDER","PageHome","state","createOrder","showLoading","_this$state","indentifier","amount","console","log","body","client_id","app_id","token","zalo_pay_id","QueryString","stringify","fetch","method","headers","JSON","then","response","json","resp","hideLoading","code","order","Promise","reject","payOrder","cb","catch","error","showDialog","title","message","button","data","alert","errorCode","handleIdentifierChange","event","setState","handleAmountChange","pageText","style","backgroundColor","height","textAlign","paddingTop","_this3","_this$state2","position","width","top","es","unselectedTintColor","tintColor","barTintColor","hidden","display","flexDirection","Item","key","selected","selectedTab","onPress","data-seed","icon","page_home_Icon","url","selectedIcon","lib_default","size","src","require","alt","components_text_input","type","components_full_width_button","PureComponent","Icon","_ref","background"],"mappings":"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","file":"static/js/1.16776761.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bghome.e3a2b187.jpg\";","import './text-input.scss';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass DefaultTextInput extends Component {\n  render() {\n    const { className, placeholder, ...otherProps } = this.props;\n    return (\n      <div className={`text-input ${className}`}>\n        <input\n          className=\"input\"\n          required\n          {...otherProps}\n        />\n        <span className=\"floating-label\">{placeholder}</span>\n      </div>\n    );\n  }\n}\n\nDefaultTextInput.propTypes = {\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n};\nDefaultTextInput.defaultProps = {\n  className: '',\n  placeholder: 'Enter text',\n};\n\nexport default DefaultTextInput;","import './text-input.scss';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nclass ExpandTextInput extends Component {\n  constructor(props) {\n    super(props);\n    this.emitChange = this.emitChange.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    // (fix for safari + firefox)\n    if (!nextProps.value) {\n      ReactDOM.findDOMNode(this._input).innerHTML = ''; // eslint-disable-line\n    }\n    return nextProps.value !== ReactDOM.findDOMNode(this._input).textContent; // eslint-disable-line\n  }\n  emitChange() {\n    var html = ReactDOM.findDOMNode(this._input).textContent; // eslint-disable-line\n    if (this.props.onChange && html !== this.lastHtml) {\n      this.props.onChange({ target: { value: html } });\n    }\n    this.lastHtml = html;\n  }\n\n  render() {\n    const { className, placeholder, value, disabled, ...otherProps } = this.props;\n    return (\n      <div className={`text-input ${className}`}>\n        <div\n          ref={ref => this._input = ref}\n          className=\"input input--auto-expand\"\n          onInput={this.emitChange}\n          onBlur={this.emitChange}\n          contentEditable={!disabled}\n          dangerouslySetInnerHTML={{ __html: value }}\n          {...otherProps}\n          required\n        />\n        <span className=\"floating-label\">{placeholder}</span>\n      </div>\n    );\n  }\n}\n\nExpandTextInput.propTypes = {\n  className: PropTypes.string,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n  onChange: PropTypes.func,\n  disabled: PropTypes.bool,\n\n};\nExpandTextInput.defaultProps = {\n  className: '',\n  value: '',\n  placeholder: 'Enter text',\n  disabled: false,\n};\n\nexport default ExpandTextInput;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DefaultTextInput from './default-text-input';\nimport ExpandTextInput from './expand-text-input';\n\nconst TextInput = (props) => {\n  const { autoExpand, ...otherProps } = props;\n  return autoExpand\n    ? <ExpandTextInput {...otherProps} />\n    : <DefaultTextInput {...otherProps} />\n};\n\nTextInput.propTypes = {\n  autoExpand: PropTypes.bool,\n};\nTextInput.defaultProps = {\n  autoExpand: false,\n};\n\nexport default TextInput;","import './full-width-button.scss';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FullWidthButton = (props) => {\n  const btnClass = props.disabled ? 'full-width-btn full-width-btn--disabled' : 'full-width-btn';\n  return (\n    <button disabled={props.disabled} className={btnClass} onClick={props.onClick}>\n      <span>{props.text}</span>\n    </button>\n  );\n};\n\nFullWidthButton.propTypes = {\n  text: PropTypes.string,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n};\nFullWidthButton.defaultProps = {\n  text: '',\n  onClick: () => { },\n  disabled: false,\n};\n\nexport default FullWidthButton;","import React, { PureComponent } from 'react';\nimport './page-home.scss';\nimport ZPTextInput from '../../components/text-input';\nimport ZPButton from '../../components/full-width-button';\nimport QueryString from 'query-string';\nimport QRCode from 'qrcode.react';\n\nimport { TabBar } from 'antd-mobile';\n\nimport 'antd-mobile/dist/antd-mobile.css';\n\nconst ZaloPayApi = window.ZaloPay;\n\nconst CREATE_ORDER = 'https://devbus.zalopay.com.vn/api/v1/create_order';\nconst IDENTIFIER_TITLE = 'Chứng minh nhân dân';\nconst AMOUNT_TITLE = 'Số tiền';\nconst GET_BALANCE = '/api/v1/get_balance';\nconst BUS_BASE_URL = 'https://devbus.zalopay.com.vn';\n\nclass PageHome extends PureComponent {\n  state = {};\n  handleOnSubmitForm() {\n    ZaloPayApi.showLoading();\n  }\n  componentDidMount() {\n    const body = {\n      client_id: 1,\n      app_id: 1,\n      amount: 10000,\n      token: 11111,\n      zalo_pay_id: 'ducdt'\n    };\n    fetch(`${BUS_BASE_URL}${GET_BALANCE}`, {\n      body: JSON.stringify(body),\n      method: 'POST'\n    })\n      .then((response) => response.json())\n      .then((resp) => {\n        console.log('createOrder', resp);\n        // ZaloPayApi.showDialog({\n        //   title: 'Giao dịch không thành công',\n        //   message: JSON.stringify(resp),\n        //   button: 'Đóng'\n        // });\n        ZaloPayApi.hideLoading();\n        const { code, order } = resp;\n        if (code === 1) {\n          ZaloPayApi.payOrder(order, this.cb);\n          return;\n        }\n        return Promise.reject(resp);\n      })\n      .catch((error) => {\n        ZaloPayApi.hideLoading();\n        ZaloPayApi.showDialog({\n          title: 'Giao dịch không thành công',\n          message: error.message,\n          button: 'Đóng'\n        });\n        console.log('createOrder error', error);\n      });\n  }\n\n  createOrder = () => {\n    ZaloPayApi.showLoading();\n    const { indentifier, amount } = this.state;\n    console.log('createOrder', indentifier, amount);\n    const body = {\n      client_id: 1,\n      app_id: 1,\n      amount: 10000,\n      token: 11111,\n      zalo_pay_id: 'ducdt'\n    };\n    console.log('QueryString.stringify(body)', QueryString.stringify(body));\n    fetch(CREATE_ORDER, {\n      method: 'POST',\n      headers: {\n        // 'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    })\n      .then((response) => response.json())\n      .then((resp) => {\n        console.log('createOrder', resp);\n        // ZaloPayApi.showDialog({\n        //   title: 'Giao dịch không thành công',\n        //   message: JSON.stringify(resp),\n        //   button: 'Đóng'\n        // });\n        ZaloPayApi.hideLoading();\n        const { code, order } = resp;\n        if (code === 1) {\n          ZaloPayApi.payOrder(order, this.cb);\n          return;\n        }\n        return Promise.reject(resp);\n      })\n      .catch((error) => {\n        ZaloPayApi.hideLoading();\n        ZaloPayApi.showDialog({\n          title: 'Giao dịch không thành công',\n          message: error.message,\n          button: 'Đóng'\n        });\n        console.log('createOrder error', error);\n      });\n  };\n  cb = (data) => {\n    if (typeof data === 'object') {\n      if (data.error === 1) {\n        alert('Thanh toán đơn hàng thành công');\n      } else if (data.error === 4) {\n        alert('Người dùng huỷ việc thanh toán đơn hàng');\n      } else {\n        alert('Thanh toán đơn hàng thất bại với mã lỗi ' + data.errorCode);\n        // Khi thanh toán thất bại, có thể xem nguyên nhân chi tiết trong bảng mã lỗi\n      }\n    }\n  };\n  handleIdentifierChange = (event) => {\n    this.setState({\n      indentifier: event.target.value\n    });\n  };\n  handleAmountChange = (event) => {\n    this.setState({\n      amount: event.target.value\n    });\n  };\n  renderContent(pageText) {\n    return (\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 1000,\n          textAlign: 'center'\n          // flex: 1\n        }}\n      >\n        <div style={{ paddingTop: 60 }}>\n          Clicked “{pageText}” tab， show “{pageText}” information\n        </div>\n      </div>\n    );\n  }\n  render() {\n    const { indentifier, amount } = this.state;\n    return (\n      <div style={{ position: 'fixed', height: '100%', width: '100%', top: 0 }}>\n        <TabBar\n          unselectedTintColor=\"#949494\"\n          tintColor=\"#33A3F4\"\n          barTintColor=\"white\"\n          hidden={this.state.hidden}\n          style={{ display: 'flex', flexDirection: 'column' }}\n        >\n          <TabBar.Item\n            title=\"QR\"\n            key=\"qr\"\n            selected={this.state.selectedTab === 'blueTab'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'blueTab'\n              });\n            }}\n            data-seed=\"logId\"\n            icon={\n              <Icon\n                url={`https://upload.wikimedia.org/wikipedia/commons/3/31/QR_icon.svg`}\n              />\n            }\n            selectedIcon={\n              <Icon\n                url={`https://upload.wikimedia.org/wikipedia/commons/3/31/QR_icon.svg`}\n              />\n            }\n          >\n            <div className=\"tab-qr\">\n              <div className=\"tab-qr-qrcode\">\n                <QRCode value=\"http://facebook.github.io/react/\" size={280} />\n              </div>\n            </div>\n          </TabBar.Item>\n          <TabBar.Item\n            icon={\n              <Icon\n                url={`https://www.svgrepo.com/show/125026/debit-card.svg`}\n              />\n            }\n            selectedIcon={\n              <Icon\n                url={`https://www.svgrepo.com/show/125026/debit-card.svg`}\n              />\n            }\n            title=\"Thanh Toán\"\n            key=\"pay\"\n            selected={this.state.selectedTab === 'redTab'}\n            onPress={() => {\n              this.setState({\n                selectedTab: 'redTab'\n              });\n            }}\n            data-seed=\"logId1\"\n          >\n            <img\n              src={require('../../assets/bghome.jpg')}\n              width=\"100%\"\n              alt=\"banner\"\n            />\n            <div className=\"text-input-wrapper\">\n              <ZPTextInput\n                placeholder={IDENTIFIER_TITLE}\n                className=\"cmnd-text-input\"\n                onChange={this.handleIdentifierChange}\n              />\n              <ZPTextInput\n                placeholder={AMOUNT_TITLE}\n                onChange={this.handleAmountChange}\n                type=\"number\"\n              />\n            </div>\n            <div className=\"pay-button-wrapper\">\n              <ZPButton\n                text=\"Thanh toán\"\n                onClick={this.createOrder}\n                disabled={!indentifier || !amount}\n              />\n            </div>\n          </TabBar.Item>\n        </TabBar>\n      </div>\n    );\n  }\n}\nconst Icon = ({ url }) => (\n  <div\n    style={{\n      width: '22px',\n      height: '22px',\n      background: `url(${url}) center center /  21px 21px no-repeat`\n    }}\n  />\n);\n\nexport default PageHome;\n"],"sourceRoot":""}